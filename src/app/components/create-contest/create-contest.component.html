<div fxLayout="column">
  <mat-toolbar color="primary" class="mat-elevation-z4" fxLayoutGap="8px">
    <button mat-icon-button (click)="cancel($event)">
      <mat-icon>close</mat-icon>
    </button>
    <span fxFlex>New contest</span>

    <button mat-raised-button color="accent" (click)="createContest()" [disabled]="!contestForm.valid">
      CREATE CONTEST
    </button>
  </mat-toolbar>

  <div fxLayout="row" fxLayoutAlign="center stretch">
    <div fxLayout="column" fxFlex="70%" fxLayoutAlign="start stretch">

      <mat-card class="mat-elevation-z2 card-padding" fxLayout="column" fxLayoutGap="48px">
        <div ng2FileDrop ng2FileSelect class="drop-zone" [uploader]="uploader">Upload photo</div>

        <form [formGroup]="contestForm">
          <div fxLayout="row" fxLayoutGap="32px">

            <div fxFlex fxLayout="column" fxLayoutGap="8px" fxLayoutAlign="start stretch">
              <mat-form-field fxFlexAlign="start" style="min-width: 30em;" [hideRequiredMarker]="false">
                <input matInput formControlName="title" placeholder="Title" required>
              </mat-form-field>
              <mat-form-field>
                <textarea matInput #autosize="cdkTextareaAutosize" cdkTextareaAutosize cdkAutosizeMinRows="5" cdkAutosizeMaxRows="5" formControlName="description"
                  placeholder="Description"></textarea>
              </mat-form-field>

              <mat-form-field [hideRequiredMarker]="false">
                <mat-chip-list #tagsList>
                  <mat-chip *ngFor="let tag of tags" [selectable]="false" [removable]="true" (removed)="remove(tag)">
                    {{tag}}
                    <mat-icon matChipRemove>cancel</mat-icon>
                  </mat-chip>
                  <input placeholder="Tags" #tagInput formControlName="tags" [matAutocomplete]="auto" [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                    [matChipInputAddOnBlur]="false" (matChipInputTokenEnd)="add($event)" />
                </mat-chip-list>
                <!--     <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                                     <mat-option *ngFor="let fruit of filteredFruits | async" [value]="fruit">
                    {{ fruit }}
                  </mat-option>

                https://material.angular.io/components/chips/overview

                </mat-autocomplete>
             --></mat-form-field>

            </div>

            <div fxLayout="column" fxLayoutGap="8px">

              <div fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="center center">
                <mat-form-field fxFlex [hideRequiredMarker]="false">
                  <input matInput type="number" min="0.000000000000001" formControlName="prize" placeholder="Prize" required>
                </mat-form-field>
                <span>ETH</span>
              </div>

              <mat-form-field>
                <input matInput [matDatepicker]="picker1" formControlName="initialDate" placeholder="Initial date" required>
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
              </mat-form-field>
              <mat-form-field>
                <input matInput [matDatepicker]="picker2" formControlName="participationLimitDate" placeholder="Participation date limit"
                  required>
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
              <mat-form-field>
                <input matInput [matDatepicker]="picker3" formControlName="endDate" placeholder="End date" required>
                <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                <mat-datepicker #picker3></mat-datepicker>
              </mat-form-field>

            </div>
          </div>
        </form>
      </mat-card>
    </div>
  </div>
</div>
