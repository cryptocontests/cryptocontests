<div fxLayout="column" fxFill>
  <mat-toolbar color="primary" class="mat-elevation-z2 toolbar">
    <mat-toolbar-row fxLayoutGap="16px">
      <span fxFlex>CryptoContests</span>
      <web3-transaction-button></web3-transaction-button>
      <button mat-raised-button color="accent" routerLink="/contest/create">
        CREATE NEW CONTEST
      </button>
    </mat-toolbar-row>

    <mat-toolbar-row fxLayout="row" fxLayoutAlign="center center" class="height-auto">
      <nav mat-tab-nav-bar backgroundColor="primary" fxFlex>
        <a mat-tab-link *ngFor="let routeLink of routeLinks; let i = index" [routerLink]="[routeLink.link]" [active]="activeLinkIndex === i"
          (click)="activeLinkIndex = i">
          {{routeLink.label}}</a>
      </nav>
      <div fxLayout="row" fxLayoutAlign="center center">
        <button mat-button [filterToggler]="filter">
          <mat-icon>filter_list</mat-icon> FILTER
        </button>
        <button mat-button [sortByMenu]="sortOptions">
          <mat-icon>sort</mat-icon> SORT BY
        </button>
      </div>
    </mat-toolbar-row>
  </mat-toolbar>

  <mat-card class="mat-elevation-z2 filter-card" [style.z-index]="10">
    <filter-toolbar #filter fxFlex (valueChanges)="filterChanged($event)">
      <filter-string title="Title" name="title" (valueChanges)="filterChanged($event)"></filter-string>
      <filter-number title="Prize" name="prize"></filter-number>
      <filter-date title="Initial Date" name="initialDate"></filter-date>
      <filter-autocomplete title="Filter by tags" name="tags" [autocompleteValues]="tags$ | async"></filter-autocomplete>
    </filter-toolbar>
  </mat-card>

  <div>
    <router-outlet></router-outlet>
  </div>
  <!--
  <mat-tab-group fxFlex="grow" [selectedIndex]="1" backgroundColor="primary">
    <mat-tab label="Upcoming Contests">
      <cc-contest-grid fxFlex [contests]="upcomingContests$ | async" (contestSelected)="selectContest($event)" *ngrxLoading="upcomingContests$;empty:'The search returned no contests'">
      </cc-contest-grid>
    </mat-tab>

    <mat-tab label="Ongoing Contests">
      <cc-contest-grid fxFlex [contests]="ongoingContests$ | async" (contestSelected)="selectContest($event)" *ngrxLoading="ongoingContests$;action:action;empty:'The search returned no contests'">
      </cc-contest-grid>
    </mat-tab>

    <mat-tab label="On Voting Contests">
      <cc-contest-grid fxFlex [contests]="votingContests$ | async" (contestSelected)="selectContest($event)" *ngrxLoading="votingContests$;empty:'The search returned no contests'">
      </cc-contest-grid>
    </mat-tab>

    <mat-tab label="Ended Contests">
      <cc-contest-grid fxFlex [contests]="endedContests$ | async" (contestSelected)="selectContest($event)" *ngrxLoading="votingContests$;empty:'The search returned no contests'">
      </cc-contest-grid>
    </mat-tab>
  </mat-tab-group> -->
</div>
